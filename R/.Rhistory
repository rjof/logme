library(RSQLite)
install.packages('RSQLite')
library(RSQLite)
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
dbListTables(conn = conn)
dbListFields(conn, "logme")
dbGetQuery(conn,"select distinct in_group from logme")
dbGetQuery(conn,"select * from logme where in_group = 'Salud'")
dbListFields(conn, "logme")
dbGetQuery(conn,"select in_group, activity from logme where in_group = 'Salud'")
ls()
dbGetQuery(conn,"select in_group, activity from logme where in_group = 'Salud'")
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
dbGetQuery(conn,"select in_group, activity from logme where in_group = 'Salud'")
dbGetQuery(conn,"select in_group, activity from logme where in_group = 'Salud' limit 2")
dbGetQuery(conn,"select in_group, activity from logme where activity = 'Cajetilla'")
dbGetQuery(conn,"select  from logme where activity = 'Cajetilla'")
dbGetQuery(conn,"select * from logme where activity = 'Cajetilla'")
strptime(1683822469)
strptime(1683822469,format = "%Y")
strptime(1683822469,format = "%Y")
unix.time()
unix.time(1683822469)
as.character.POSIXt(1683822469)
as.POSIXt(1683822469)
as.POSIXct(1683822469)
as.POSIXct(1683822469, origin="1970-01-01")
as.POSIXct(1683822469, origin="1970-01-01",tz="America/Mexico_city")
as.POSIXct(1683822469, origin="1970-01-01")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas
as.POSIXct(cajetillas, origin="1970-01-01")
as.POSIXct(cajetillas, origin="1970-01-01")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
as.POSIXct(as.list(cajetillas), origin="1970-01-01")
as.list(cajetillas)
library(tidyr)
cajetillas%>%as.list()
cajetillas%>%as.list()%>%as.POSIXct(origin="1970-01-01")
cajetillas%>%as.list()%>%as.POSIXct(.,origin="1970-01-01")
cajetillas%>%as.POSIXct(.,origin="1970-01-01")
cajetillas%>%mutate(when=as.POSIXct(.,origin="1970-01-01"))
library(dplyr)
cajetillas%>%mutate(when=as.POSIXct(.,origin="1970-01-01"))
cajetillas%>%mutate(when=as.POSIXct(origin="1970-01-01"))
cajetillas%>%mutate(when=as.POSIXct(origin="1970-01-01"))
library(lubridate)
cajetillas%>%mutate(when = as_datetime())
cajetillas%>%mutate(when = as_datetime(.))
cajetillas%>%as.numeric() %>% mutate(when = as_datetime(.))
cajetillas %>% as.list %>% as.numeric() %>% mutate(when = as_datetime(.))
cajetillas %>% as.list() %>% as.numeric() %>% mutate(when = as_datetime(.))
cajetillas %>% as.character() %>% as.numeric() %>% mutate(when = as_datetime(.))
cajetillas %>% as.character() %>% as.numeric() %>% mutate(when = as_datetime())
as_datetime(10)
cajetillas %>% as.character() %>% as.numeric() %>% mutate(when = as_datetime
)
cajetillas %>% as.character() %>% as.numeric() %>% mutate(when = as_datetime())
cajetillas
cajetillas %>% as.character() %>% as.numeric()
cajetillas %>% as.numeric()
cajetillas %>% as.list %>% as.numeric()
cajetillas %>% as.list
cajetillas %>% as.list %>% as.numeric
cajetillas %>% as.list %>% as.integer()
cajetillas %>% as.numeric()
cajetillas %>% difftime()
difftime()
difftime(1683822469,1683904028)
diff(1683822469,1683904028)
diff(cajetillas)
diff(as.numeric(cajetillas))
diff(as.matrix(cajetillas))
cajetillas
163904028-1683822469
1683904028-1683822469
cajetillas %>% mutate ( diffs = diff())
cajetillas %>% mutate ( diffs = diff(as.matrix()))
cajetillas %>% mutate ( diffs = diff(as.matrix(.)))
cajetillas['diffs'] = diff(as.matrix(cajetillas))
cajetillas['diffs'] = c(0,diff(as.matrix(cajetillas)))
cajetillas
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas)))
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
cajetillas
plot(cajetillas$hrs)
library(ggplot2)
ggplot(cajetillas, aes(y=hrs))
ggplot(cajetillas, aes(y=hrs))+ geom_bar
ggplot(cajetillas, aes(x=hrs))+ geom_bar
barplot(cajetillas$hrs)
as.POSIXct(cajetillas, origin="1970-01-01")
as.POSIXct(as.matrix(cajetillas), origin="1970-01-01")
as.POSIXct(as.matrix(cajetillas$ts_from), origin="1970-01-01")
cajetillas['fecha']=as.POSIXct(as.matrix(cajetillas$ts_from), origin="1970-01-01")
cajetillas
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
library(RSQLite)
library(tidyr)
library(dplyr)
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
rm(list=ls)
rm(list=ls())
library(RSQLite)
library(tidyr)
library(dplyr)
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
cajetillas
library(RSQLite)
library(tidyr)
library(dplyr)
rm(list=ls())
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['fecha']=as.POSIXct(as.matrix(cajetillas$ts_from), origin="1970-01-01")
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
cajetillas
summarise(cajetillas)
summary(cajetillas)
cajetillas['fecha']=as.POSIXct(as.matrix(cajetillas$ts_from), origin="1970-01-01")
summary(cajetillas)
str(cajetillas)
summarize(cajetillas)
summary(cajetillas)
cajetillas
str(cajetillas)
rm(list=ls())
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
cajetillas
summary(cajetillas)
cajetillas %>% select(hrs) %>% summarise()
cajetillas %>% select(hrs) %>% summary()
cajetillas %>% select(hrs) %>% filter(hrs > 0) %>% summary()
library(RSQLite)
library(tidyr)
library(dplyr)
rm(list=ls())
conn <- dbConnect(RSQLite::SQLite(), "/home/rjof/.rjof_logme.db")
cajetillas=dbGetQuery(conn,"select ts_from from logme where activity = 'Cajetilla'")
cajetillas['fecha']=as.POSIXct(as.matrix(cajetillas$ts_from), origin="1970-01-01")
cajetillas['segs'] = c(0,diff(as.matrix(cajetillas$ts_from)))
cajetillas['hrs'] = c(0,diff(as.matrix(cajetillas$ts_from)))/3600
barplot(cajetillas$hrs)
cajetillas
cajetillas %>% select(hrs) %>% filter(hrs > 0) %>% summary()
nrow(cajetillas)
cajetillas %>% select(hrs) %>% filter(hrs > 0) %>% summary()
cajetillas
cajetillas %>% sort(desc(fecha))
cajetillas %>% sort.POSIXlt()
cajetillas %>% sort.POSIXlt(fecha)
cajetillas %>% sort.POSIXlt(fecha)
str(cajetillas)
cajetillas %>% order_by(fecha)
cajetillas %>% order_by(.,fecha)
cajetillas %>% order_by(.,fecha, desc)
cajetillas[order(cajetillas$fecha)]
cajetillas
cajetillas[order(fecha)]
cajetillas[order(cajetillas$fecha)]
cajetillas[order(cajetillas$fecha),]
cajetillas[order(cajetillas$fecha, desc),]
